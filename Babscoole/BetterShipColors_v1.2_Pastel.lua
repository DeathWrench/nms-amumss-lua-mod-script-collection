DataTable =
{
    {
        ["PALETTE"] = "Paint",
        ["NUMCOLOURS"] = "All",
        ["COLOURS"] =
        {
            { ["R"]="1", ["G"]="1", ["B"]="1", ["A"]="1" },
            { ["R"]="0.95", ["G"]="0.95", ["B"]="0.95", ["A"]="1" },
            { ["R"]="0.9", ["G"]="0.9", ["B"]="0.9", ["A"]="1" },
            { ["R"]="0.35", ["G"]="0.35", ["B"]="0.35", ["A"]="1" },
            { ["R"]="0.3", ["G"]="0.3", ["B"]="0.3", ["A"]="1" },
            { ["R"]="0", ["G"]="0", ["B"]="0", ["A"]="1" },
            { ["R"]="0.05", ["G"]="0.05", ["B"]="0.05", ["A"]="1" },
            { ["R"]="0.1", ["G"]="0.1", ["B"]="0.1", ["A"]="1" },
            { ["R"]="0.82", ["G"]="0.827", ["B"]="0.851", ["A"]="1" },
            { ["R"]="0.776", ["G"]="0.784", ["B"]="0.816", ["A"]="1" },
            { ["R"]="0.737", ["G"]="0.741", ["B"]="0.78", ["A"]="1" },
            { ["R"]="0.694", ["G"]="0.706", ["B"]="0.741", ["A"]="1" },
            { ["R"]="0.122", ["G"]="0.118", ["B"]="0.141", ["A"]="1" },
            { ["R"]="0.09", ["G"]="0.086", ["B"]="0.11", ["A"]="1" },
            { ["R"]="0.075", ["G"]="0.075", ["B"]="0.09", ["A"]="1" },
            { ["R"]="0.051", ["G"]="0.051", ["B"]="0.067", ["A"]="1" },
            { ["R"]="0.376", ["G"]="0.141", ["B"]="0.161", ["A"]="1" },
            { ["R"]="0.435", ["G"]="0.145", ["B"]="0.184", ["A"]="1" },
            { ["R"]="0.569", ["G"]="0.18", ["B"]="0.212", ["A"]="1" },
            { ["R"]="0.663", ["G"]="0.196", ["B"]="0.22", ["A"]="1" },
            { ["R"]="0.376", ["G"]="0.141", ["B"]="0.145", ["A"]="1" },
            { ["R"]="0.431", ["G"]="0.141", ["B"]="0.157", ["A"]="1" },
            { ["R"]="0.567", ["G"]="0.192", ["B"]="0.184", ["A"]="1" },
            { ["R"]="0.663", ["G"]="0.204", ["B"]="0.192", ["A"]="1" },
            { ["R"]="0.737", ["G"]="0.365", ["B"]="0.2", ["A"]="1" },
            { ["R"]="0.804", ["G"]="0.431", ["B"]="0.216", ["A"]="1" },
            { ["R"]="0.886", ["G"]="0.567", ["B"]="0.247", ["A"]="1" },
            { ["R"]="0.867", ["G"]="0.655", ["B"]="0.259", ["A"]="1" },
            { ["R"]="0.882", ["G"]="0.776", ["B"]="0.118", ["A"]="1" },
            { ["R"]="0.902", ["G"]="0.902", ["B"]="0.239", ["A"]="1" },
            { ["R"]="1", ["G"]="1", ["B"]="0.4", ["A"]="1" },
            { ["R"]="0.875", ["G"]="1", ["B"]="0.498", ["A"]="1" },
            { ["R"]="0.71", ["G"]="0.859", ["B"]="0.427", ["A"]="1" },
            { ["R"]="0.569", ["G"]="0.769", ["B"]="0.369", ["A"]="1" },
            { ["R"]="0.302", ["G"]="0.698", ["B"]="0.337", ["A"]="1" },
            { ["R"]="0.153", ["G"]="0.314", ["B"]="0.231", ["A"]="1" },
            { ["R"]="0.173", ["G"]="0.361", ["B"]="0.267", ["A"]="1" },
            { ["R"]="0.204", ["G"]="0.439", ["B"]="0.322", ["A"]="1" },
            { ["R"]="0.251", ["G"]="0.541", ["B"]="0.38", ["A"]="1" },
            { ["R"]="0.275", ["G"]="0.612", ["B"]="0.431", ["A"]="1" },
            { ["R"]="0.2", ["G"]="0.412", ["B"]="0.396", ["A"]="1" },
            { ["R"]="0.255", ["G"]="0.537", ["B"]="0.514", ["A"]="1" },
            { ["R"]="0.329", ["G"]="0.706", ["B"]="0.706", ["A"]="1" },
            { ["R"]="0.137", ["G"]="0.361", ["B"]="0.451", ["A"]="1" },
            { ["R"]="0.161", ["G"]="0.447", ["B"]="0.573", ["A"]="1" },
            { ["R"]="0.208", ["G"]="0.6", ["B"]="0.773", ["A"]="1" },
            { ["R"]="0.412", ["G"]="0.745", ["B"]="0.89", ["A"]="1" },
            { ["R"]="0.569", ["G"]="0.816", ["B"]="0.894", ["A"]="1" },
            { ["R"]="0.204", ["G"]="0.349", ["B"]="0.573", ["A"]="1" },
            { ["R"]="0.204", ["G"]="0.396", ["B"]="0.702", ["A"]="1" },
            { ["R"]="0.204", ["G"]="0.388", ["B"]="0.82", ["A"]="1" },
            { ["R"]="0.216", ["G"]="0.475", ["B"]="0.91", ["A"]="1" },
            { ["R"]="0.192", ["G"]="0.251", ["B"]="0.647", ["A"]="1" },
            { ["R"]="0.216", ["G"]="0.31", ["B"]="0.725", ["A"]="1" },
            { ["R"]="0.247", ["G"]="0.322", ["B"]="0.792", ["A"]="1" },
            { ["R"]="0.274", ["G"]="0.322", ["B"]="0.988", ["A"]="1" },
            { ["R"]="0.306", ["G"]="0.227", ["B"]="0.525", ["A"]="1" },
            { ["R"]="0.38", ["G"]="0.239", ["B"]="0.647", ["A"]="1" },
            { ["R"]="0.51", ["G"]="0.443", ["B"]="0.817", ["A"]="1" },
            { ["R"]="0.435", ["G"]="0.267", ["B"]="0.647", ["A"]="1" },
            { ["R"]="0.584", ["G"]="0.443", ["B"]="0.816", ["A"]="1" },
            { ["R"]="0.698", ["G"]="0.584", ["B"]="0.902", ["A"]="1" },
            { ["R"]="0.816", ["G"]="0.584", ["B"]="0.902", ["A"]="1" },
            { ["R"]="0.804", ["G"]="0.51", ["B"]="0.82", ["A"]="1" },
        }
    },
}

NMS_MOD_DEFINITION_CONTAINER =
{
    ["MOD_FILENAME"]            = "BetterShipColors_v1.2_Pastel.pak",
    ["MOD_AUTHOR"]              = "MusicAndSilence",
    ["LUA_AUTHOR"]         		= "Babscoole",	
    ["NMS_VERSION"]             = "3.93",
    ["MODIFICATIONS"]           =
    {
        {
            ["MBIN_CHANGE_TABLE"] 	=
            {
                {
                    ["MBIN_FILE_SOURCE"] = "METADATA\\SIMULATION\\SOLARSYSTEM\\COLOURS\\BASECOLOURPALETTES.MBIN",
                    ["EXML_CHANGE_TABLE"] 	=
                    {
					
                    }
                }
            }
        }
    }
}


function GetColours(R,G,B,A)
    return
    [[
    <Property value="Colour.xml">
          <Property name="R" value="]].. R ..[[" />
          <Property name="G" value="]].. G ..[[" />
          <Property name="B" value="]].. B ..[[" />
          <Property name="A" value="]].. A ..[[" />
        </Property>
    ]]
end

function CreateColoursProperty(PaletteColours)
    local PropertiesString = ""

    for j = 1, #PaletteColours do
        local R = PaletteColours[j]["R"]
        local G = PaletteColours[j]["G"]
        local B = PaletteColours[j]["B"]
        local A = PaletteColours[j]["A"]
        PropertiesString = PropertiesString..GetColours(R, G, B, A)
    end
    local PropertyColoursString = 
    [[      <Property name="Colours">
    ]]..PropertiesString..[[
  </Property>]]
    
    -- print(PropertyColoursString)
    return PropertyColoursString
end

local BaseColourPalettesTable  = NMS_MOD_DEFINITION_CONTAINER["MODIFICATIONS"][1]["MBIN_CHANGE_TABLE"][1]["EXML_CHANGE_TABLE"]
for i = 1, #DataTable do
    local Palette = DataTable[i]["PALETTE"]
    local PaletteColours = DataTable[i]["COLOURS"]
    local PaletteNumColours = DataTable[i]["NUMCOLOURS"]
           
    BaseColourPalettesTable[#BaseColourPalettesTable +1 ] =
    {
        ["SPECIAL_KEY_WORDS"] = { Palette, "GcPaletteData.xml", "NumColours", PaletteNumColours },
        ["PRECEDING_KEY_WORDS"] = { "Colours" },
        ["REMOVE"] = "SECTION"
    }

    BaseColourPalettesTable[#BaseColourPalettesTable +1 ] = 
    {
        ["SPECIAL_KEY_WORDS"] = { Palette, "GcPaletteData.xml", "NumColours", PaletteNumColours },
        ["ADD"] = CreateColoursProperty(PaletteColours)
    }
end
