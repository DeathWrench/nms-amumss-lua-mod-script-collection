KIBS_PRODUCT_LIST = 
{
"!KNXBACKWALL",
"!KNXBRENGINE",
"!KNXBRIDROOM",
"!KNXCIRCDESK",
"!KNXCURSDESK",
"!KNXLARGTERM",
"!KNXBLDFRONT",
"!KNXBLFRAIRV",
"!KNXBLFRWALL",
"!KNXBLFRRAMP",
"!KNXBLFRRBLK",
"!KNXCPNTCAGE",
"!KNXCPNTTBLE",
"!KNXCENPOINT",
"!KNXMIDDPLAT",
"!KNXSPECSHOP",
"!KNXSHOPCOLU",
"!KNXANHEXPLO",
"!KNXCOMPUTER",
"!KNXMECHCORE",
"!KNXSTEAVENT",
"!KNXFORWDOOR",
"!KNXLEFTDOOR",
"!KNXMAIRLOCK",
"!KNXMARKDOOR",
"!KNXEXTERLEG",
"!KNXEXTERLGS",
"!KNXDSTATION",
"!KNXLBFRPLAT",
"!KNXLBLDAREA",
"!KNXLBPIWALL",
"!KNXPILLAR",
"!KNXLANDPAD1",
"!KNXLANDPAD2",
"!KNXLEFTAREA",
"!KNXHALLWAY",
"!KNXROBOARM",
"!KNXRARMWALL",
"!KNXRFSIDCAP",
"!KNXCONTROOM",
"!KNXBALCHOOD",
"!KNXCRDRAPE1",
"!KNXCRDRAPE2",
"!KNXCRDRAPE3",
"!KNXCRCHAMBR",
"!KNXCRPIPES",
"!KNXCRFKDOOR",
"!KNXBOOK1",
"!KNXCANNISTE",
"!KNXCANNLARG",
"!KNXCIRCUBOX",
"!KNXCRATE",
"!KNXHDDRIVE1",
"!KNXHOVETROL",
"!KNXLARGCANN",
"!KNXAIRLOCK",
"!KNXBVPLATFM",
"!KNXBVFEATR1",
"!KNXBVFEATR2",
"!KNXRSSCLOTH",
"!KNXRSSBLOCK",
"!KNXSHOPBIG",
"!KNXSHOPBIGC",
"!KNXSHOPSMAL",
"!KNXEGGMACHI",
"!KNXHEAVPILL",
"!KNXHEAVPILS",
"!KNXVISTLGP1",
"!KNXVISTLP1S",
"!KNXVISTLGP2",
"!KNXVISTLP2S",
"!KNXVISTLGP3",
"!KNXVISTLP3S",
"!KNXVISTLGP4",
"!KNXVISTLGP5",
"!KNXVISTLP5S",
"!KNXVISTLGP6",
"!KNXVISTLP6S",
"!KNXVISTLGP7",
"!KNXVISTLP7S",
"!KNXVISTLGP8",
"!KNXVISTLP8S",
"!KNXVISTLGRI",
"!KNXNEXBANAL",
"!KNXTOWER",
"!KNXTOWERS",
"!KNXTOWERTOP",
"!KBPFLORNEXU",
"!KBPFLCUNEXU",
"!KBPFTRINEXU",
"!KBPFTRQNEXU",
"!KBPFGLPNEXU",
"!KBPFSMLNEXU",
"!KBPFSCUNEXU",
"!KBPRAMPNEXU",
"!KBPRTHINEXU",
"!KBPRCCUNEXU",
"!KBPARCHNEXU",
"!KBPAHLFNEXU",
"!KBPWALLNEXU",
"!KBPWACUNEXU",
"!KBPWHLFNEXU",
"!KBPWHCUNEXU",
"!KBPWSMLNEXU",
"!KBPWSCUNEXU",
"!KBPWSHLNEXU",
"!KBPWSHCNEXU",
"!KBPWWINNEXU",
"!KBPWTRINEXU",
"!KBPWDORNEXU",
"!KBPWDHFNEXU",
"!KBPWDWNNEXU",
"!KBPRAILNEXU",
"!KBPRACUNEXU",
"!KBPRSCUNEXU",
"!KBPCUBENEXU",
"!KBPPIPENEXU",
"!KBPPIPCNEXU",
"!KPFTUSTNEXU",
"!KPFTUCONEXU",
"!KPFTUBTNEXU",
"!KPFTUBXNEXU",
"!KPFDOORNEXU",
"!KNXCPFLCABL",
"!KNXCPFLOCAP",
"!KNXCPMTMONI",
"!KNXCPSITERM",
"!KNXMHSUPPOR",
"!KNXWADETAIL",
"!KNXNPCANNIS",
"!KNXNPCODESK",
"!KNXSMALMONI",
"!KNXNPDOORWA",
"!KNXNPDRCDSK",
"!KNXNPFAN",
"!KNXNPHECONT",
"!KNXNPMSUPPO",
"!KNXLIGHCOLU",
"!KNXNPPCDESK",
"!KSPASTEBEAC",
"!KSPATLBEAC1",
"!KSPCHARGBAR",
"!KSPCRYSTAL",
"!KSPCUBEPOI",
"!KSPEYE",
"!KSPGATEPOI",
"!KSPGEKHEAD",
"!KSPLINEGEO",
"!KSPPILLAPOI",
"!KSPSKULL",
"!KSPSKCRYST1",
"!KSPPRISON",
"!KSPCLOCK",
"!KSPEGG",
"!KSPGRABBY",
"!KSPGYROSCOP",
"!KSPWARRSILO",
"!KSPWOBJECT2",
"!KSPWOBJECT3",
"!KSPWOBJECT5",
"!KLTSPOTRED",
"!KLTSPOTORAN",
"!KLTSPOTYELL",
"!KLTSPOTGREE",
"!KLTSPOTTEAL",
"!KLTSPOTBLUE",
"!KLTSPOTPINK",
"!KLTSPOTWHIT",
"!KLTAMBIRED",
"!KLTAMBIORAN",
"!KLTAMBIYELL",
"!KLTAMBIGREE",
"!KLTAMBITEAL",
"!KLTAMBIBLUE",
"!KLTAMBIPINK",
"!KLTAMBIWHIT",
"!KLTWALLRED",
"!KLTWALLORAN",
"!KLTWALLYELL",
"!KLTWALLGREE",
"!KLTWALLTEAL",
"!KLTWALLBLUE",
"!KLTWALLPINK",
"!KLTWALLWHIT",
"!KBPFLORTRON",
"!KBPFTRITRON",
"!KBPFTRQTRON",
"!KBPFGLPTRON",
"!KBPFSMLTRON",
"!KBPRAMPTRON",
"!KBPRTHITRON",
"!KBPROOFTRON",
"!KBPRMIDTRON",
"!KBPRCORTRON",
"!KBPRCINTRON",
"!KBPARCHTRON",
"!KBPAHLFTRON",
"!KBPWALLTRON",
"!KBPWHLFTRON",
"!KBPWSMLTRON",
"!KBPWSHLTRON",
"!KBPWWINTRON",
"!KBPWTRITRON",
"!KBPWDORTRON",
"!KBPWDHFTRON",
"!KBPGDORTRON",
"!KBPWDWNTRON",
"!KBPFLORCHRG",
"!KBPWALLCHRG",
"!KBPFLORCHRB",
"!KBPWALLCHRB",
"!KSHIPSALV",
}

function GetKnownProducts(ID)
return [[
<Property value="NMSString0x10.xml">
<Property name="Value" value="]] .. ID .. [[" />
</Property>
]]
end

EXPORT_KNOWNPRODUCTS_LIST = {"<!-- KIBBLES N BITS PRODUCTS -->"}
for i,j in pairs(KIBS_PRODUCT_LIST) do	-- ADDING FOUNDATION INFRASTRUCTURE PIECES INTO DEFAULTSAVE
	EXPORT_KNOWNPRODUCTS_LIST[i+1] = GetKnownProducts(j)
end

EXPORT_KNOWNPRODUCTS_LIST[#EXPORT_KNOWNPRODUCTS_LIST + 1] = "<!-- KIBBLES -->"

EXPORT_KNOWNPRODUCTS	= table.concat(EXPORT_KNOWNPRODUCTS_LIST)

NMS_MOD_DEFINITION_CONTAINER = 
{
["MOD_FILENAME"] 		= "KibsDefaultSaves.pak",
["MOD_DESCRIPTION"]		= "Generates Metadata files and patch other mods with this script",
["MOD_AUTHOR"]			= "WinderTP",
["NMS_VERSION"]			= "3.37.0 Pre2",
["MODIFICATIONS"] 		= 
	{
		{
			["MBIN_CHANGE_TABLE"] = 
			{ 
				{
					["MBIN_FILE_SOURCE"] 	= "METADATA\GAMESTATE\DEFAULTSAVEDATA.MBIN",
					["EXML_CHANGE_TABLE"]	= 
					{
						{
							["PRECEDING_KEY_WORDS"] = {"KnownProducts"},
							["LINE_OFFSET"] 		= "+0",
							["ADD"] 				= EXPORT_KNOWNPRODUCTS
						}
					},
				},
				{
					["MBIN_FILE_SOURCE"] 	= "METADATA\GAMESTATE\DEFAULTSAVEDATACREATIVE.MBIN",
					["EXML_CHANGE_TABLE"]	= 
					{
						{
							["PRECEDING_KEY_WORDS"] = {"KnownProducts"},
							["LINE_OFFSET"] 		= "+0",
							["ADD"] 				= EXPORT_KNOWNPRODUCTS
						}
					},
				},				
			}
		}
	},
}